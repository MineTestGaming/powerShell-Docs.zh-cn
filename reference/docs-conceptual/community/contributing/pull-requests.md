---
title: 如何提交拉取请求
description: 本文介绍如何向 PowerShell-Docs 存储库提交拉取请求。
ms.date: 03/05/2020
ms.topic: conceptual
ms.openlocfilehash: 8b392a36c9469b83cf4f088c1799720a091434b4
ms.sourcegitcommit: 0907b8c6322d2c7c61b17f8168d53452c8964b41
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/05/2020
ms.locfileid: "87782644"
---
# <a name="how-to-submit-pull-requests"></a>如何提交拉取请求

若要更改内容，请从你的分支提交拉取请求 (PR)。 拉取请求必须先经过审核，才能将其合并。 请先查看[编辑清单](editorial-checklist.md)，然后再提交拉取请求，以获得最佳结果。

## <a name="target-the-correct-branch"></a>面向正确的分支

所有拉取请求均应面向 `staging` 分支。 任何情况下都不应将更改提交到 `live` 分支。 `staging` 分支中的更改会合并到 `live`，重写对 `live` 所做的任何更改。

若要提交的更改仅适用于尚未发布的 PowerShell 版本，请查找该版本的发布分支。 你的 PR 应面向此发布分支。 发布分支的名称模式如下所示：`release-<version>`。

## <a name="make-the-pull-request-process-work-better-for-everyone"></a>使拉取请求过程更易于所有人使用

PR 越简单明确，就能越快地对其进行审核和合并。

### <a name="avoid-branches-that-update-large-numbers-of-files-or-contain-unrelated-changes"></a>避免分支更新大量文件或包含无关更改

避免创建包含无关更改的 PR。 将对现有文章的次要更新与新文章或主要重写区分开来。 在单独的工作分支中处理这些更改。

批量更改会创建包含大量已更改文件的 PR。 将 PR 限制为最多 50 个已更改的文件。 大型 PR 难以审阅，并且更容易包含错误。

### <a name="renaming-or-deleting-files"></a>重命名或删除文件

若要重命名或删除文件，则必须存在一个与此 PR 关联的问题。 该问题必须探讨重命名或删除文件的必要性。

避免将内容添加或更改与文件重命名和删除混淆。 已重命名或删除的任何文件都必须添加到主重定向文件中。 如有可能，还应更新链接到已重命名内容或删除内容的任何文件。 其中包括任何 TOC 文件。

## <a name="docs-pr-validation-service"></a>文档 PR 验证服务

文档 PR 验证服务是一个 GitHub 应用，用于对 PR 中的文件运行验证规则。 必须解决此验证服务报告的任何错误或警报（请查看例外情况）。

可忽略以下警告：

```
Can't find service name for `<version>/<modulepath>/About/About.md`
```

```
Metadata with following name(s) are not allowed to be set in Yaml header, or as file level
metadata in docfx.json, or as global metadata in docfx.json: `locale`. They are generated by
Docs platform, so the values set in these 3 places will be ignored. Please remove them from all
3 places to resolve the warning.
```

你将看到以下行为：

1. 提交 PR。
1. 指示 PR 状态的 GitHub 备注将显示以下状态：存储库已启用“检查”。 请注意，在此示例中启用了两个检查，即“提交验证”和“OpenPublishing.Build”：

   ![验证状态 - 一些检查失败](media/pull-requests/validation-failed.png)

   即使提交验证失败，生成也可以过关。

1. 有关更多信息，请单击“详细信息”  。
1. “详细信息”页将显示所有已失败的验证检查，并包含关于如何解决问题的信息。
1. 验证成功后，会将以下注释会添加到 PR：

   ![验证状态：成功](media/pull-requests/build-validation.png)

> [!NOTE]
> 若你是外部（非 Microsoft 员工）参与者，则无权访问详细的生成报告或预览链接。

PowerShell-Docs 团队成员审核 PR 后，可能会要求你做出更改或解决验证报告标记的问题。 PowerShell-Docs 团队可帮助你明确如何解决这些问题，以及未来的提交如何避免这些问题。

## <a name="next-steps"></a>后续步骤

[PowerShell-Docs 风格指南](powershell-style-guide.md)

## <a name="additional-resources"></a>其他资源

[如何管理拉取请求](managing-pull-requests.md)
